<div>
    <div class='row'>
        <h1 class='col-md-11' contenteditable ng-model="party.name">
            {{ party.name }}
        </h1>
    </div>
    <div class='row'>
        <div class='col-md-12'>
            <progressbar class="progress-striped" value="calcPartyCost()*100 / party.points" type="{{ isPartyValid() ? 'primary' : 'danger' }}">
                <strong>{{ calcPartyCost() }} / {{ party.points }}</strong>
            </progressbar>
        </div>
    </div>

    <div class='row'>
        <p class='col-md-12 lead' contenteditable ng-model="party.description">{{ party.description }}</p>
    </div>

    <div ng-switch='state.action'>
        <div class='characters-list view' ng-switch-when='list_characters' ng-controller="ListCharactersController">

            <div ng-include="'views/party/manage-menu-list.html'" ></div>

            <div class='row'>
                <div class='eth' ng-include="'views/character/action.html'" ng-repeat="member in party.members"></div>
            </div>

        </div>
        <div class='view' ng-switch-when='edit_character' ng-controller='EditCharacterController'>
            <div ng-include="'views/character/edit.html'"></div>
        </div>
    </div>
    <div party-card-render></div>
    <div ng-controller="CardRenderingController">
        <stamp-sheet width="partyCardImage.width" height="partyCardImage.height" >
            <image-stamp src="partyCardImage.src" x="0" y="0" />
            <text-stamp text="party.name" coords="partyFields.name" />
            <text-stamp text="party.points" coords="partyFields.points" />
            <text-stamp text="lookups.natures[party.nature].name" coords="partyFields.nature" />
        </stamp-sheet>
    </div>
</div>